<html>
<head>
<title>Test</title>
</head>
<body>

  <a href="https://github.com/login/oauth/authorize?client_id=418d099e11287f40805e">GitHub Authorize</a>
  
  <script type="module">
      import { Octokit } from "https://cdn.skypack.dev/@octokit/rest"
    
      const params = new URLSearchParams(window.location.search)
      console.log(params)
    
    
      if (params.get('code')) {
          let response = await fetch('https://caf-fac.ca/gh.php?code=' + params.get('code'))
          let data = await response.json()
          
          console.log(response)
          console.log(data)
          
          const octokit = new Octokit({
            auth: data.access_token,
            userAgent: 'BPublish v1.0',
          })
      }

    </script>
  
</body>
</html>
